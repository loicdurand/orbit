# Data Model: Orbit Application

This document outlines the core data entities for the Orbit application, designed for implementation with the Isar database.

---

### 1. Contact Entity

The central entity representing a person in the user's network.

| Field | Type | Description |
| :--- | :--- | :--- |
| `id` | `Id` | Auto-incrementing primary key. |
| `name` | `String` | The name of the contact (e.g., "Thomas"). |
| `avatarPath` | `String?` | A local file path to the contact's avatar image. |
| `createdAt` | `DateTime` | Timestamp when the contact was created. |
| `lastInteractionDate` | `DateTime?` | Timestamp of the last interaction, used for the "Jardinier" dashboard sorting. |
| `relationshipScore` | `float` | A calculated score from 0 (neglected) to 100 (recent contact) indicating relationship health. |
| `notes` | `IsarLinks<Note>` | A to-many relationship linking to all notes associated with this contact. |
| `reminders` | `IsarLinks<Reminder>` | A to-many relationship linking to all reminders for this contact. |
| `aiProfileData` | `String?` | A JSON string to flexibly store structured data extracted by the AI (e.g., interests, family members). |

---

### 2. Note Entity

Represents a raw note or a memory captured by the user about an interaction.

| Field | Type | Description |
| :--- | :--- | :--- |
| `id` | `Id` | Auto-incrementing primary key. |
| `content` | `String` | The raw text content of the note, either from direct input or voice transcription. |
| `date` | `DateTime` | Timestamp when the note was created. |
| `isProcessedByAi` | `bool` | A flag to track whether this note has been sent to the AI service for processing. |
| `contact` | `IsarLink<Contact>` | A to-one relationship linking back to the associated contact. |

---

### 3. Reminder Entity

Represents an actionable, scheduled reminder for the user.

| Field | Type | Description |
| :--- | :--- | :--- |
| `id` | `Id` | Auto-incrementing primary key. |
| `title` | `String` | The title of the reminder (e.g., "Demander des nouvelles de LÃ©a"). |
| `dueDate` | `DateTime` | The date and time the reminder is scheduled for. |
| `isCompleted` | `bool` | A flag to track the completion status of the reminder. |
| `aiContext` | `String?` | Additional context generated by the AI to help the user remember why the reminder was created. |
| `contact` | `IsarLink<Contact>` | A to-one relationship linking back to the associated contact. |
